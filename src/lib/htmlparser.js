exports.htmlparser=function(t){var e={};function r(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e){(function(r,a){!function(){if("object"!=typeof e||"object"!=typeof t||"string"!=typeof r||"string"!=typeof a){if(this.Tautologistics){if(this.Tautologistics.NodeHtmlParser)return}else this.Tautologistics={};this.Tautologistics.NodeHtmlParser={},e=this.Tautologistics.NodeHtmlParser}var i={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag"};function n(t,e){this._options=e||{},null==this._options.includeLocation&&(this._options.includeLocation=!1),this.validateHandler(t),this._handler=t,this.reset()}function s(t){s.super_.call(this,t,{ignoreWhitespace:!0,verbose:!1,enforceEmptyTags:!1})}function o(t,e){this.reset(),this._options=e||{},null==this._options.ignoreWhitespace&&(this._options.ignoreWhitespace=!1),null==this._options.verbose&&(this._options.verbose=!0),null==this._options.enforceEmptyTags&&(this._options.enforceEmptyTags=!0),"function"==typeof t&&(this._callback=t)}n._reTrim=/(^\s+|\s+$)/g,n._reTrimComment=/(^\!--|--$)/g,n._reWhitespace=/\s/g,n._reTagName=/^\s*(\/?)\s*([^\s\/]+)/,n._reAttrib=/([^=<>\"\'\s]+)\s*=\s*"([^"]*)"|([^=<>\"\'\s]+)\s*=\s*'([^']*)'|([^=<>\"\'\s]+)\s*=\s*([^'"\s]+)|([^=<>\"\'\s\/]+)/g,n._reTags=/[\<\>]/g,n.prototype.parseComplete=function(t){this.reset(),this.parseChunk(t),this.done()},n.prototype.parseChunk=function(t){this._done&&this.handleError(new Error("Attempted to parse chunk after parsing already done")),this._buffer+=t,this.parseTags()},n.prototype.done=function(){if(!this._done){if(this._done=!0,this._buffer.length){var t=this._buffer;this._buffer="";var e={raw:t,data:this._parseState==i.Text?t:t.replace(n._reTrim,""),type:this._parseState};this._parseState!=i.Tag&&this._parseState!=i.Script&&this._parseState!=i.Style||(e.name=this.parseTagName(e.data)),this.parseAttribs(e),this._elements.push(e)}this.writeHandler(),this._handler.done()}},n.prototype.reset=function(){this._buffer="",this._done=!1,this._elements=[],this._elementsCurrent=0,this._current=0,this._next=0,this._location={row:0,col:0,charOffset:0,inBuffer:0},this._parseState=i.Text,this._prevTagSep="",this._tagStack=[],this._handler.reset()},n.prototype._options=null,n.prototype._handler=null,n.prototype._buffer=null,n.prototype._done=!1,n.prototype._elements=null,n.prototype._elementsCurrent=0,n.prototype._current=0,n.prototype._next=0,n.prototype._location=null,n.prototype._parseState=i.Text,n.prototype._prevTagSep="",n.prototype._tagStack=null,n.prototype.parseTagAttribs=function(t){for(var e=t.length,r=0;r<e;){var a=t[r++];a.type!=i.Tag&&a.type!=i.Script&&a.type!=i.style||this.parseAttribs(a)}return t},n.prototype.parseAttribs=function(t){if(t.type==i.Script||t.type==i.Style||t.type==i.Tag){var e,r=t.data.split(n._reWhitespace,1)[0],a=t.data.substring(r.length);if(!(a.length<1))for(n._reAttrib.lastIndex=0;e=n._reAttrib.exec(a);)null==t.attribs&&(t.attribs={}),"string"==typeof e[1]&&e[1].length?t.attribs[e[1]]=e[2]:"string"==typeof e[3]&&e[3].length?t.attribs[e[3].toString()]=e[4].toString():"string"==typeof e[5]&&e[5].length?t.attribs[e[5]]=e[6]:"string"==typeof e[7]&&e[7].length&&(t.attribs[e[7]]=e[7])}},n.prototype.parseTagName=function(t){if(null==t||""==t)return"";var e=n._reTagName.exec(t);return e?(e[1]?"/":"")+e[2]:""},n.prototype.parseTags=function(){for(var t=this._buffer.length-1;n._reTags.test(this._buffer);){this._next=n._reTags.lastIndex-1;var e=this._buffer.charAt(this._next),r=this._buffer.substring(this._current,this._next),a={raw:r,data:this._parseState==i.Text?r:r.replace(n._reTrim,""),type:this._parseState},s=this.parseTagName(a.data);if(this._tagStack.length)if(this._tagStack[this._tagStack.length-1]==i.Script){if("/script"==s.toLowerCase())this._tagStack.pop();else if(0!=a.raw.indexOf("!--"))if(a.type=i.Text,this._elements.length&&this._elements[this._elements.length-1].type==i.Text)(o=this._elements[this._elements.length-1]).raw=o.data=o.raw+this._prevTagSep+a.raw,a.raw=a.data=""}else if(this._tagStack[this._tagStack.length-1]==i.Style){if("/style"==s.toLowerCase())this._tagStack.pop();else if(0!=a.raw.indexOf("!--"))if(a.type=i.Text,this._elements.length&&this._elements[this._elements.length-1].type==i.Text){var o=this._elements[this._elements.length-1];""!=a.raw?(o.raw=o.data=o.raw+this._prevTagSep+a.raw,a.raw=a.data=""):o.raw=o.data=o.raw+this._prevTagSep}else""!=a.raw&&(a.raw=a.data=a.raw)}else if(this._tagStack[this._tagStack.length-1]==i.Comment){var l=a.raw.length;if("-"==a.raw.charAt(l-2)&&"-"==a.raw.charAt(l-1)&&">"==e)if(this._tagStack.pop(),this._elements.length&&this._elements[this._elements.length-1].type==i.Comment)(o=this._elements[this._elements.length-1]).raw=o.data=(o.raw+a.raw).replace(n._reTrimComment,""),a.raw=a.data="",a.type=i.Text;else a.type=i.Comment;else if(a.type=i.Comment,this._elements.length&&this._elements[this._elements.length-1].type==i.Comment)(o=this._elements[this._elements.length-1]).raw=o.data=o.raw+a.raw+e,a.raw=a.data="",a.type=i.Text;else a.raw=a.data=a.raw+e}if(a.type==i.Tag){a.name=s;var h=s.toLowerCase();if(0==a.raw.indexOf("!--")){a.type=i.Comment,delete a.name;l=a.raw.length;"-"==a.raw.charAt(l-1)&&"-"==a.raw.charAt(l-2)&&">"==e?a.raw=a.data=a.raw.replace(n._reTrimComment,""):(a.raw+=e,this._tagStack.push(i.Comment))}else 0==a.raw.indexOf("!")||0==a.raw.indexOf("?")?a.type=i.Directive:"script"==h?(a.type=i.Script,"/"!=a.data.charAt(a.data.length-1)&&this._tagStack.push(i.Script)):"/script"==h?a.type=i.Script:"style"==h?(a.type=i.Style,"/"!=a.data.charAt(a.data.length-1)&&this._tagStack.push(i.Style)):"/style"==h&&(a.type=i.Style);a.name&&"/"==a.name.charAt(0)&&(a.data=a.name)}""==a.raw&&a.type==i.Text||(this._options.includeLocation&&!a.location&&(a.location=this.getLocation(a.type==i.Tag)),this.parseAttribs(a),this._elements.push(a),a.type!=i.Text&&a.type!=i.Comment&&a.type!=i.Directive&&"/"==a.data.charAt(a.data.length-1)&&this._elements.push({raw:"/"+a.name,data:"/"+a.name,name:"/"+a.name,type:a.type})),this._parseState="<"==e?i.Tag:i.Text,this._current=this._next+1,this._prevTagSep=e}this._options.includeLocation&&(this.getLocation(),this._location.row+=this._location.inBuffer,this._location.inBuffer=0,this._location.charOffset=0),this._buffer=this._current<=t?this._buffer.substring(this._current):"",this._current=0,this.writeHandler()},n.prototype.getLocation=function(t){for(var e,r=this._location,a=this._current-(t?1:0),i=t&&0==r.charOffset&&0==this._current;r.charOffset<a;r.charOffset++)"\n"==(e=this._buffer.charAt(r.charOffset))?(r.inBuffer++,r.col=0):"\r"!=e&&r.col++;return{line:r.row+r.inBuffer+1,col:r.col+(i?0:1)}},n.prototype.validateHandler=function(t){if("object"!=typeof t)throw new Error("Handler is not an object");if("function"!=typeof t.reset)throw new Error("Handler method 'reset' is invalid");if("function"!=typeof t.done)throw new Error("Handler method 'done' is invalid");if("function"!=typeof t.writeTag)throw new Error("Handler method 'writeTag' is invalid");if("function"!=typeof t.writeText)throw new Error("Handler method 'writeText' is invalid");if("function"!=typeof t.writeComment)throw new Error("Handler method 'writeComment' is invalid");if("function"!=typeof t.writeDirective)throw new Error("Handler method 'writeDirective' is invalid")},n.prototype.writeHandler=function(t){if(t=!!t,!this._tagStack.length||t)for(;this._elements.length;){var e=this._elements.shift();switch(e.type){case i.Comment:this._handler.writeComment(e);break;case i.Directive:this._handler.writeDirective(e);break;case i.Text:this._handler.writeText(e);break;default:this._handler.writeTag(e)}}},n.prototype.handleError=function(t){if("function"!=typeof this._handler.error)throw t;this._handler.error(t)},function(t,e){var r=function(){};r.prototype=e.prototype,t.super_=e,t.prototype=new r,t.prototype.constructor=t}(s,o),s.prototype.done=function(){var t,e={},r=l.getElementsByTagName(function(t){return"rss"==t||"feed"==t},this.dom,!1);if(r.length&&(t=r[0]),t){if("rss"==t.name){e.type="rss",t=t.children[0],e.id="";try{e.title=l.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(t){}try{e.link=l.getElementsByTagName("link",t.children,!1)[0].children[0].data}catch(t){}try{e.description=l.getElementsByTagName("description",t.children,!1)[0].children[0].data}catch(t){}try{e.updated=new Date(l.getElementsByTagName("lastBuildDate",t.children,!1)[0].children[0].data)}catch(t){}try{e.author=l.getElementsByTagName("managingEditor",t.children,!1)[0].children[0].data}catch(t){}e.items=[],l.getElementsByTagName("item",t.children).forEach(function(t,r,a){var i={};try{i.id=l.getElementsByTagName("guid",t.children,!1)[0].children[0].data}catch(t){}try{i.title=l.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(t){}try{i.link=l.getElementsByTagName("link",t.children,!1)[0].children[0].data}catch(t){}try{i.description=l.getElementsByTagName("description",t.children,!1)[0].children[0].data}catch(t){}try{i.pubDate=new Date(l.getElementsByTagName("pubDate",t.children,!1)[0].children[0].data)}catch(t){}e.items.push(i)})}else{e.type="atom";try{e.id=l.getElementsByTagName("id",t.children,!1)[0].children[0].data}catch(t){}try{e.title=l.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(t){}try{e.link=l.getElementsByTagName("link",t.children,!1)[0].attribs.href}catch(t){}try{e.description=l.getElementsByTagName("subtitle",t.children,!1)[0].children[0].data}catch(t){}try{e.updated=new Date(l.getElementsByTagName("updated",t.children,!1)[0].children[0].data)}catch(t){}try{e.author=l.getElementsByTagName("email",t.children,!0)[0].children[0].data}catch(t){}e.items=[],l.getElementsByTagName("entry",t.children).forEach(function(t,r,a){var i={};try{i.id=l.getElementsByTagName("id",t.children,!1)[0].children[0].data}catch(t){}try{i.title=l.getElementsByTagName("title",t.children,!1)[0].children[0].data}catch(t){}try{i.link=l.getElementsByTagName("link",t.children,!1)[0].attribs.href}catch(t){}try{i.description=l.getElementsByTagName("summary",t.children,!1)[0].children[0].data}catch(t){}try{i.pubDate=new Date(l.getElementsByTagName("updated",t.children,!1)[0].children[0].data)}catch(t){}e.items.push(i)})}this.dom=e}s.super_.prototype.done.call(this)},o._emptyTags={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1},o.reWhitespace=/^\s*$/,o.prototype.dom=null,o.prototype.reset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._tagStack.last=function(){return this.length?this[this.length-1]:null}},o.prototype.done=function(){this._done=!0,this.handleCallback(null)},o.prototype.writeTag=function(t){this.handleElement(t)},o.prototype.writeText=function(t){this._options.ignoreWhitespace&&o.reWhitespace.test(t.data)||this.handleElement(t)},o.prototype.writeComment=function(t){this.handleElement(t)},o.prototype.writeDirective=function(t){this.handleElement(t)},o.prototype.error=function(t){this.handleCallback(t)},o.prototype._options=null,o.prototype._callback=null,o.prototype._done=!1,o.prototype._tagStack=null,o.prototype.handleCallback=function(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},o.prototype.isEmptyTag=function(t){var e=t.name.toLowerCase();return"/"==e.charAt(0)&&(e=e.substring(1)),this._options.enforceEmptyTags&&!!o._emptyTags[e]},o.prototype.handleElement=function(t){if(this._done&&this.handleCallback(new Error("Writing to the handler after done() called is not allowed without a reset()")),this._options.verbose||(delete t.raw,"tag"!=t.type&&"script"!=t.type&&"style"!=t.type||delete t.data),this._tagStack.last())if(t.type!=i.Text&&t.type!=i.Comment&&t.type!=i.Directive)if("/"==t.name.charAt(0)){var e=t.name.substring(1);if(!this.isEmptyTag(t)){for(var r=this._tagStack.length-1;r>-1&&this._tagStack[r--].name!=e;);if(r>-1||this._tagStack[0].name==e)for(;r<this._tagStack.length-1;)this._tagStack.pop()}}else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(t),this.isEmptyTag(t)||this._tagStack.push(t);else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(t);else t.type!=i.Text&&t.type!=i.Comment&&t.type!=i.Directive?"/"!=t.name.charAt(0)&&(this.dom.push(t),this.isEmptyTag(t)||this._tagStack.push(t)):this.dom.push(t)};var l={testElement:function(t,e){if(!e)return!1;for(var r in t)if("tag_name"==r){if("tag"!=e.type&&"script"!=e.type&&"style"!=e.type)return!1;if(!t.tag_name(e.name))return!1}else if("tag_type"==r){if(!t.tag_type(e.type))return!1}else if("tag_contains"==r){if("text"!=e.type&&"comment"!=e.type&&"directive"!=e.type)return!1;if(!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[r](e.attribs[r]))return!1;return!0},getElements:function(t,e,r,a){if(r=null==r||!!r,a=isNaN(parseInt(a))?-1:parseInt(a),!e)return[];var i,n=[];function s(t){return function(e){return e==t}}for(var o in t)"function"!=typeof t[o]&&(t[o]=s(t[o]));if(l.testElement(t,e)&&n.push(e),a>=0&&n.length>=a)return n;if(r&&e.children)i=e.children;else{if(!(e instanceof Array))return n;i=e}for(var h=0;h<i.length&&(n=n.concat(l.getElements(t,i[h],r,a)),!(a>=0&&n.length>=a));h++);return n},getElementById:function(t,e,r){var a=l.getElements({id:t},e,r,1);return a.length?a[0]:null},getElementsByTagName:function(t,e,r,a){return l.getElements({tag_name:t},e,r,a)},getElementsByTagType:function(t,e,r,a){return l.getElements({tag_type:t},e,r,a)}};e.Parser=n,e.DefaultHandler=o,e.RssHandler=s,e.ElementType=i,e.DomUtils=l}()}).call(this,"/index.js","/")}]);